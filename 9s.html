<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/css/styles.css">
    <link rel="stylesheet" href="assets/css/9s.css">
    <title>9S</title>
</head>
<body>
    <div class="header">
        <div class="header-logo">
            <a href="home.html">
                <img class="header-logo-img"
                    src="assets/img/nier-automata-ps4-games-playstation-nier-automata-logo-transparent-440_220.jpg">
            </a>
        </div>
    </div>
    <div class="inicio"></div>
    <div class="instrucao"><h1>Escolha seus chips</h1></div>
    <div class="main">
        <div class="chips">
            <button>System</button><button>Attack</button><button>Defense</button><button>Support</button><button>Hacking</button>
            <div class="chip_menu">
                <div id="system_menu">
                <div id="div_os_chip" class="botao" onclick="adicionar(this.id)"><img src="assets/img/chip-img.jpg"><span class="nome">OS Chip</span><span class="slot">[2]</span></div>
                <div id="div_enemy_data" class="botao" onclick="adicionar(this.id)"><img src="assets/img/chip-img.jpg"><span class="nome">HUD: Enemy Data</span><span class="slot">[2]</span></div>
                <div id="div_damage_values" class="botao" onclick="adicionar(this.id)"><img src="assets/img/chip-img.jpg"><span class="nome">HUD: Damage Values</span class="slot">[3]</div>
                <div id="div_objectives" class="botao" onclick="adicionar(this.id)"><img src="assets/img/chip-img.jpg"><span class="nome">HUD: Objectives</span class="slot">[1]</div>
                <div id="div_control" class="botao" onclick="adicionar(this.id)"><img src="assets/img/chip-img.jpg"><span class="nome">HUD: Control</span class="slot">[3]</div>
                <div id="div_save_points" class="botao" onclick="adicionar(this.id)"><img src="assets/img/chip-img.jpg"><span class="nome">HUD: Save Points</span class="slot">[1]</div>
                <div id="div_mini-map" class="botao" onclick="adicionar(this.id)"><img src="assets/img/chip-img.jpg"><span class="nome">HUD: Mini-map</span class="slot">[2]</div>
                <div id="div_text_log" class="botao" onclick="adicionar(this.id)"><img src="assets/img/chip-img.jpg"><span class="nome">HUD: Text Log</span class="slot">[2]</div>
                <div id="div_skill_gauge" class="botao" onclick="adicionar(this.id)"><img src="assets/img/chip-img.jpg"><span class="nome">HUD: Skill Gauge</span class="slot">[2]</div>
                <div id="div_hp_gauge" class="botao" onclick="adicionar(this.id)"><img src="assets/img/chip-img.jpg"><span class="nome">HUD: HP Gauge</span class="slot">[2]</div>
                <div id="div_exp_gauge" class="botao" onclick="adicionar(this.id)"><img src="assets/img/chip-img.jpg"><span class="nome">HUD: EXP Gauge</span class="slot">[1]</div>
                <div id="div_fishing_spots" class="botao" onclick="adicionar(this.id)"><img src="assets/img/chip-img.jpg"><span class="nome">HUD: Fishing Spots</span class="slot">[3]</div>
                <div id="div_sound_waves" class="botao" onclick="adicionar(this.id)"><img src="assets/img/chip-img.jpg"><span class="nome">HUD: Sound Waves</span class="slot">[3]</div>
                </div>    
            </div>
        </div>
        <div class="chip_slot" id="chip_slot">
            <div class="tamanho" id="tamanho">
                <div class="system" id="os_chip"></div>
                <div class="system" id="hp_gauge"></div>
                <div class="system" id="skill_gauge"></div>
                <div class="system" id="exp_gauge"></div>
                <div class="system" id="enemy_data"></div>
                <div class="system" id="mini-map"></div>
                <div class="system" id="objectives"></div>
                <div class="system" id="text_log"></div>
                <div class="system" id="save_points"></div>
                <div class="system" id="fishing_spots"></div>
                <div class="system" id="damage_values"></div>
                <div class="system" id="sound_waves"></div>
                <div class="system" id="control"></div>
            </div>
        </div>
    </div>






</body>
</html>
<script>
    /* O chip_slot tem 128 slots
       a altura da div é 512px o que faz que 1 slot seja equivalente a 4px */
       ocupado = 0;
       numero = 0;
    function adicionar(chip) {
        numero++;
        slots = parseInt(Math.random()*10+1);
        ocupar = slots * 4;
        slot_ocupado = Number(ocupado);
        slot = 512;
        if (slot - slot_ocupado < ocupar) {
            alert('Não é posivel adicionar esse chip');
        } else {
            tamanho.innerHTML +=`<div class="system" id="${chip}${numero}" style="height:${ocupar}px;" onclick="remover(this.id)"></div>`;
            ocupado = slot_ocupado + ocupar;
            tamanho.style.height =`${ocupado}px`;
        }
    }
    function remover(chip) { 
        
        tirar = document.getElementById(chip);
        parentElem = tirar.parentNode; 
        parentElem.removeChild(tirar);
       
        altura = tirar.style.height;
        formatado = Number(altura.replace(/px/i, '')); //Substituindo 'px' por nada, o 'i' é para ignorar se a letra é maiuscula ou não 
        ocupado = ocupado - formatado;

        tamanho.style.height =`${ocupado}px`;
        
        //remove() pode apagar um elemento com especificamente o id e não var
        //removeChild() precisa do elemento pai para ser usado
    }
</script>